<?php
/** @var Rating $block */

use MageMe\WebForms\Block\Result\Rating;

$collection = $block->getSummaryRatings();
$starWidth = 24;
?>
<?php if (!empty($collection)): ?>
    <div class="webforms-rating-summary">
        <?php foreach ($collection as $rating): ?>
            <?php
            $field = $block->getField($rating['field_id']);
            $value = $rating['sum'] / $rating['count'];
            ?>
            <?php if ($value): ?>
                <div class="rating-box">
                    <div class="summary rating-summary-<?= $field->getId() ?>">
                        <span class="label"><span><?= __($block->escapeHtml($field->getResultLabel())) ?>:</span></span>

                        <div class="rating-result">
                            <?= $field->getValueForResultDefaultTemplate($value)?>
                        </div>
                    </div>
                </div>
            <?php endif; ?>
        <?php endforeach; ?>
    </div>
<?php endif; ?>
