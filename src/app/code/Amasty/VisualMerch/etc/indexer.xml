<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * @author Amasty Team
 * @copyright Copyright (c) Amasty (https://www.amasty.com)
 * @package Visual Merchandiser for Magento 2
 */-->

<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:framework:Indexer/etc/indexer.xsd">
    <indexer id="amasty_merch_product_dynamic_category" view_id="amasty_merch_product_dynamic_category"
             class="Amasty\VisualMerch\Model\Indexer\DynamicCategory\ProductIndexer"
             shared_index="amasty_merch_dynamic_category_products">
        <title translate="true">Amasty: Visual Merchandiser - Product</title>
        <description translate="true">Indexed product/category association</description>
        <dependencies>
            <indexer id="cataloginventory_stock" />
            <indexer id="merchandiser_product_attribute" />
            <indexer id="catalog_product_price" />
        </dependencies>
    </indexer>
    <indexer id="amasty_merch_dynamic_category_product" view_id="amasty_merch_dynamic_category_product"
             class="Amasty\VisualMerch\Model\Indexer\DynamicCategory\CategoryIndexer"
             shared_index="amasty_merch_dynamic_category_products">
        <title translate="true">Amasty: Visual Merchandiser - Category</title>
        <description translate="true">Indexed category/product association</description>
    </indexer>
    <indexer id="amasty_merch_product_dynamic_category_msi"
             view_id="amasty_merch_product_dynamic_category_msi"
             class="Amasty\VisualMerch\Model\Indexer\DynamicCategory\MsiProductIndexer"
             shared_index="amasty_merch_dynamic_category_products">
        <title translate="true">Amasty: Visual Merchandiser - Product (MSI)</title>
        <description translate="true">Indexed product/category association (MSI)</description>
    </indexer>

    <indexer id="catalog_category_product">
        <dependencies>
            <indexer id="amasty_merch_dynamic_category_product" />
        </dependencies>
    </indexer>
    <indexer id="catalog_product_category">
        <dependencies>
            <indexer id="amasty_merch_product_dynamic_category" />
        </dependencies>
    </indexer>

    <indexer id="catalogsearch_fulltext">
        <dependencies>
            <indexer id="catalog_product_category" />
        </dependencies>
    </indexer>
</config>
